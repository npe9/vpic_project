#!/bin/bash

#######################################################################
# Documentation of run parameters.
#
# $1 = np
# $2 = nnodes
# $3 = nppn
# $4 = ntpp
# $5 = nppc
# $6 = nstep
# $7 = nrestart
# $8 = size
#
#######################################################################

make_input_deck=./make_input_decks

#######################################################################
# Create the input decks for 2 ranks/core i.e. MPI only case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000064 0001 064 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000128 0002 064 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0000256 0004 064 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0000512 0008 064 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0001024 0016 064 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0002048 0032 064 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0004096 0064 064 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0008192 0128 064 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0016384 0256 064 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0032768 0512 064 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0065536 1024 064 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0131072 2048 064 001 512 100 1500 ddr  16  16   8
${make_input_deck} 0262144 4096 064 001 512 100 1500 ddr  16  16  16
${make_input_deck} 0524288 8192 064 001 512 100 1500 ddr  32  16  16

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000064 0001 064 001 512 100 1500 hbm   1   1   1
${make_input_deck} 0000128 0002 064 001 512 100 1500 hbm   2   1   1
${make_input_deck} 0000256 0004 064 001 512 100 1500 hbm   2   2   1
${make_input_deck} 0000512 0008 064 001 512 100 1500 hbm   2   2   2
${make_input_deck} 0001024 0016 064 001 512 100 1500 hbm   4   2   2
${make_input_deck} 0002048 0032 064 001 512 100 1500 hbm   4   4   2
${make_input_deck} 0004096 0064 064 001 512 100 1500 hbm   4   4   4
${make_input_deck} 0008192 0128 064 001 512 100 1500 hbm   8   4   4
${make_input_deck} 0016384 0256 064 001 512 100 1500 hbm   8   8   4
${make_input_deck} 0032768 0512 064 001 512 100 1500 hbm   8   8   8
${make_input_deck} 0065536 1024 064 001 512 100 1500 hbm  16   8   8
${make_input_deck} 0131072 2048 064 001 512 100 1500 hbm  16  16   8
${make_input_deck} 0262144 4096 064 001 512 100 1500 hbm  16  16  16
${make_input_deck} 0524288 8192 064 001 512 100 1500 hbm  32  16  16

#######################################################################
# Create the input decks for 1 rank/core i.e. MPI only case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000032 0001 032 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000064 0002 032 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0000128 0004 032 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0000256 0008 032 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0000512 0016 032 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0001024 0032 032 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0002048 0064 032 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0004096 0128 032 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0008192 0256 032 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0016384 0512 032 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0032768 1024 032 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0065536 2048 032 001 512 100 1500 ddr  16  16   8
${make_input_deck} 0131072 4096 032 001 512 100 1500 ddr  16  16  16
${make_input_deck} 0262144 8192 032 001 512 100 1500 ddr  32  16  16

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000032 0001 032 001 512 100 1500 hbm   1   1   1
${make_input_deck} 0000064 0002 032 001 512 100 1500 hbm   2   1   1
${make_input_deck} 0000128 0004 032 001 512 100 1500 hbm   2   2   1
${make_input_deck} 0000256 0008 032 001 512 100 1500 hbm   2   2   2
${make_input_deck} 0000512 0016 032 001 512 100 1500 hbm   4   2   2
${make_input_deck} 0001024 0032 032 001 512 100 1500 hbm   4   4   2
${make_input_deck} 0002048 0064 032 001 512 100 1500 hbm   4   4   4
${make_input_deck} 0004096 0128 032 001 512 100 1500 hbm   8   4   4
${make_input_deck} 0008192 0256 032 001 512 100 1500 hbm   8   8   4
${make_input_deck} 0016384 0512 032 001 512 100 1500 hbm   8   8   8
${make_input_deck} 0032768 1024 032 001 512 100 1500 hbm  16   8   8
${make_input_deck} 0065536 2048 032 001 512 100 1500 hbm  16  16   8
${make_input_deck} 0131072 4096 032 001 512 100 1500 hbm  16  16  16
${make_input_deck} 0262144 8192 032 001 512 100 1500 hbm  32  16  16

#######################################################################
# Create the input decks for 1 rank/core, 2 threads/rank i.e. MPI +
# threads case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000032 0001 032 002 512 100 1500 ddr   1   1   1
${make_input_deck} 0000064 0002 032 002 512 100 1500 ddr   2   1   1
${make_input_deck} 0000128 0004 032 002 512 100 1500 ddr   2   2   1
${make_input_deck} 0000256 0008 032 002 512 100 1500 ddr   2   2   2
${make_input_deck} 0000512 0016 032 002 512 100 1500 ddr   4   2   2
${make_input_deck} 0001024 0032 032 002 512 100 1500 ddr   4   4   2
${make_input_deck} 0002048 0064 032 002 512 100 1500 ddr   4   4   4
${make_input_deck} 0004096 0128 032 002 512 100 1500 ddr   8   4   4
${make_input_deck} 0008192 0256 032 002 512 100 1500 ddr   8   8   4
${make_input_deck} 0016384 0512 032 002 512 100 1500 ddr   8   8   8
${make_input_deck} 0032768 1024 032 002 512 100 1500 ddr  16   8   8
${make_input_deck} 0065536 2048 032 002 512 100 1500 ddr  16  16   8
${make_input_deck} 0131072 4096 032 002 512 100 1500 ddr  16  16  16
${make_input_deck} 0262144 8192 032 002 512 100 1500 ddr  32  16  16

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000032 0001 032 002 512 100 1500 hbm   1   1   1
${make_input_deck} 0000064 0002 032 002 512 100 1500 hbm   2   1   1
${make_input_deck} 0000128 0004 032 002 512 100 1500 hbm   2   2   1
${make_input_deck} 0000256 0008 032 002 512 100 1500 hbm   2   2   2
${make_input_deck} 0000512 0016 032 002 512 100 1500 hbm   4   2   2
${make_input_deck} 0001024 0032 032 002 512 100 1500 hbm   4   4   2
${make_input_deck} 0002048 0064 032 002 512 100 1500 hbm   4   4   4
${make_input_deck} 0004096 0128 032 002 512 100 1500 hbm   8   4   4
${make_input_deck} 0008192 0256 032 002 512 100 1500 hbm   8   8   4
${make_input_deck} 0016384 0512 032 002 512 100 1500 hbm   8   8   8
${make_input_deck} 0032768 1024 032 002 512 100 1500 hbm  16   8   8
${make_input_deck} 0065536 2048 032 002 512 100 1500 hbm  16  16   8
${make_input_deck} 0131072 4096 032 002 512 100 1500 hbm  16  16  16
${make_input_deck} 0262144 8192 032 002 512 100 1500 hbm  32  16  16

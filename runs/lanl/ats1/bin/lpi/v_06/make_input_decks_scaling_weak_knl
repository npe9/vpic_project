#!/bin/bash

#######################################################################
# Documentation of run parameters.
#
# $1 = np
# $2 = nnodes
# $3 = nppn
# $4 = ntpp
# $5 = nppc
# $6 = nstep
# $7 = nrestart
# $8 = size
#
#######################################################################

make_input_deck=./make_input_decks

#######################################################################
# Create the input decks for 4 ranks/core, 1 thread/rank i.e. MPI
# only case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000256 0001 256 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000512 0002 256 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0001024 0004 256 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0002048 0008 256 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0004096 0016 256 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0008192 0032 256 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0016384 0064 256 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0032768 0128 256 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0065536 0256 256 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0131072 0512 256 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0262144 1024 256 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0524288 2048 256 001 512 100 1500 ddr  16  16   8
${make_input_deck} 1048576 4096 256 001 512 100 1500 ddr  16  16  16
${make_input_deck} 2097152 8192 256 001 512 100 1500 ddr  32  16  16

${make_input_deck} 0000272 0001 272 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000544 0002 272 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0001088 0004 272 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0002176 0008 272 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0004352 0016 272 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0008704 0032 272 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0017408 0064 272 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0034816 0128 272 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0069632 0256 272 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0139264 0512 272 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0278528 1024 272 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0557056 2048 272 001 512 100 1500 ddr  16  16   8
${make_input_deck} 1114112 4096 272 001 512 100 1500 ddr  16  16  16
${make_input_deck} 2228224 8192 272 001 512 100 1500 ddr  32  16  16

#######################################################################
# Create the input decks for 2 ranks/core, 1 thread/rank i.e. MPI
# only case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000128 0001 128 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000256 0002 128 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0000512 0004 128 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0001024 0008 128 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0002048 0016 128 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0004096 0032 128 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0008192 0064 128 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0016384 0128 128 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0032768 0256 128 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0065536 0512 128 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0131072 1024 128 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0262144 2048 128 001 512 100 1500 ddr  16  16   8
${make_input_deck} 0524288 4096 128 001 512 100 1500 ddr  16  16  16
${make_input_deck} 1048576 8192 128 001 512 100 1500 ddr  32  16  16

${make_input_deck} 0000136 0001 136 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000272 0002 136 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0000544 0004 136 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0001088 0008 136 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0002176 0016 136 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0004352 0032 136 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0008704 0064 136 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0017408 0128 136 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0034816 0256 136 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0069632 0512 136 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0139264 1024 136 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0278528 2048 136 001 512 100 1500 ddr  16  16   8
${make_input_deck} 0557056 4096 136 001 512 100 1500 ddr  16  16  16
${make_input_deck} 1114112 8192 136 001 512 100 1500 ddr  32  16  16

#######################################################################
# Create the input decks for 1 rank/core, 1 thread/rank i.e. MPI
# only case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000064 0001 064 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000128 0002 064 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0000256 0004 064 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0000512 0008 064 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0001024 0016 064 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0002048 0032 064 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0004096 0064 064 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0008192 0128 064 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0016384 0256 064 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0032768 0512 064 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0065536 1024 064 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0131072 2048 064 001 512 100 1500 ddr  16  16   8
${make_input_deck} 0262144 4096 064 001 512 100 1500 ddr  16  16  16
${make_input_deck} 0524288 8192 064 001 512 100 1500 ddr  32  16  16

${make_input_deck} 0000068 0001 068 001 512 100 1500 ddr   1   1   1
${make_input_deck} 0000136 0002 068 001 512 100 1500 ddr   2   1   1
${make_input_deck} 0000272 0004 068 001 512 100 1500 ddr   2   2   1
${make_input_deck} 0000544 0008 068 001 512 100 1500 ddr   2   2   2
${make_input_deck} 0001088 0016 068 001 512 100 1500 ddr   4   2   2
${make_input_deck} 0002176 0032 068 001 512 100 1500 ddr   4   4   2
${make_input_deck} 0004352 0064 068 001 512 100 1500 ddr   4   4   4
${make_input_deck} 0008704 0128 068 001 512 100 1500 ddr   8   4   4
${make_input_deck} 0017408 0256 068 001 512 100 1500 ddr   8   8   4
${make_input_deck} 0034816 0512 068 001 512 100 1500 ddr   8   8   8
${make_input_deck} 0069632 1024 068 001 512 100 1500 ddr  16   8   8
${make_input_deck} 0139264 2048 068 001 512 100 1500 ddr  16  16   8
${make_input_deck} 0278528 4096 068 001 512 100 1500 ddr  16  16  16
${make_input_deck} 0557056 8192 068 001 512 100 1500 ddr  32  16  16

#######################################################################
# Create the input decks for 2 ranks/core, 2 threads/rank i.e. MPI +
# threads case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000128 0001 128 002 512 100 1500 ddr   1   1   1
${make_input_deck} 0000256 0002 128 002 512 100 1500 ddr   2   1   1
${make_input_deck} 0000512 0004 128 002 512 100 1500 ddr   2   2   1
${make_input_deck} 0001024 0008 128 002 512 100 1500 ddr   2   2   2
${make_input_deck} 0002048 0016 128 002 512 100 1500 ddr   4   2   2
${make_input_deck} 0004096 0032 128 002 512 100 1500 ddr   4   4   2
${make_input_deck} 0008192 0064 128 002 512 100 1500 ddr   4   4   4
${make_input_deck} 0016384 0128 128 002 512 100 1500 ddr   8   4   4
${make_input_deck} 0032768 0256 128 002 512 100 1500 ddr   8   8   4
${make_input_deck} 0065536 0512 128 002 512 100 1500 ddr   8   8   8
${make_input_deck} 0131072 1024 128 002 512 100 1500 ddr  16   8   8
${make_input_deck} 0262144 2048 128 002 512 100 1500 ddr  16  16   8
${make_input_deck} 0524288 4096 128 002 512 100 1500 ddr  16  16  16
${make_input_deck} 1048576 8192 128 002 512 100 1500 ddr  32  16  16

${make_input_deck} 0000136 0001 136 002 512 100 1500 ddr   1   1   1
${make_input_deck} 0000272 0002 136 002 512 100 1500 ddr   2   1   1
${make_input_deck} 0000544 0004 136 002 512 100 1500 ddr   2   2   1
${make_input_deck} 0001088 0008 136 002 512 100 1500 ddr   2   2   2
${make_input_deck} 0002176 0016 136 002 512 100 1500 ddr   4   2   2
${make_input_deck} 0004352 0032 136 002 512 100 1500 ddr   4   4   2
${make_input_deck} 0008704 0064 136 002 512 100 1500 ddr   4   4   4
${make_input_deck} 0017408 0128 136 002 512 100 1500 ddr   8   4   4
${make_input_deck} 0034816 0256 136 002 512 100 1500 ddr   8   8   4
${make_input_deck} 0069632 0512 136 002 512 100 1500 ddr   8   8   8
${make_input_deck} 0139264 1024 136 002 512 100 1500 ddr  16   8   8
${make_input_deck} 0278528 2048 136 002 512 100 1500 ddr  16  16   8
${make_input_deck} 0557056 4096 136 002 512 100 1500 ddr  16  16  16
${make_input_deck} 1114112 8192 136 002 512 100 1500 ddr  32  16  16

#######################################################################
# Create the input decks for 1 rank/core, 4 threads/rank i.e. MPI +
# threads case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000064 0001 064 004 512 100 1500 ddr   1   1   1
${make_input_deck} 0000128 0002 064 004 512 100 1500 ddr   2   1   1
${make_input_deck} 0000256 0004 064 004 512 100 1500 ddr   2   2   1
${make_input_deck} 0000512 0008 064 004 512 100 1500 ddr   2   2   2
${make_input_deck} 0001024 0016 064 004 512 100 1500 ddr   4   2   2
${make_input_deck} 0002048 0032 064 004 512 100 1500 ddr   4   4   2
${make_input_deck} 0004096 0064 064 004 512 100 1500 ddr   4   4   4
${make_input_deck} 0008192 0128 064 004 512 100 1500 ddr   8   4   4
${make_input_deck} 0016384 0256 064 004 512 100 1500 ddr   8   8   4
${make_input_deck} 0032768 0512 064 004 512 100 1500 ddr   8   8   8
${make_input_deck} 0065536 1024 064 004 512 100 1500 ddr  16   8   8
${make_input_deck} 0131072 2048 064 004 512 100 1500 ddr  16  16   8
${make_input_deck} 0262144 4096 064 004 512 100 1500 ddr  16  16  16
${make_input_deck} 0524288 8192 064 004 512 100 1500 ddr  32  16  16

${make_input_deck} 0000068 0001 068 004 512 100 1500 ddr   1   1   1
${make_input_deck} 0000136 0002 068 004 512 100 1500 ddr   2   1   1
${make_input_deck} 0000272 0004 068 004 512 100 1500 ddr   2   2   1
${make_input_deck} 0000544 0008 068 004 512 100 1500 ddr   2   2   2
${make_input_deck} 0001088 0016 068 004 512 100 1500 ddr   4   2   2
${make_input_deck} 0002176 0032 068 004 512 100 1500 ddr   4   4   2
${make_input_deck} 0004352 0064 068 004 512 100 1500 ddr   4   4   4
${make_input_deck} 0008704 0128 068 004 512 100 1500 ddr   8   4   4
${make_input_deck} 0017408 0256 068 004 512 100 1500 ddr   8   8   4
${make_input_deck} 0034816 0512 068 004 512 100 1500 ddr   8   8   8
${make_input_deck} 0069632 1024 068 004 512 100 1500 ddr  16   8   8
${make_input_deck} 0139264 2048 068 004 512 100 1500 ddr  16  16   8
${make_input_deck} 0278528 4096 068 004 512 100 1500 ddr  16  16  16
${make_input_deck} 0557056 8192 068 004 512 100 1500 ddr  32  16  16

#######################################################################
# Create the input decks for 1 rank/core, 2 threads/rank i.e. MPI +
# threads case.

#-------------------------------------------------------------------
#                  $1      $2   $3  $4  $5  $6  $7   $8   $9 $10 $11
#-------------------------------------------------------------------
${make_input_deck} 0000064 0001 064 002 512 100 1500 ddr   1   1   1
${make_input_deck} 0000128 0002 064 002 512 100 1500 ddr   2   1   1
${make_input_deck} 0000256 0004 064 002 512 100 1500 ddr   2   2   1
${make_input_deck} 0000512 0008 064 002 512 100 1500 ddr   2   2   2
${make_input_deck} 0001024 0016 064 002 512 100 1500 ddr   4   2   2
${make_input_deck} 0002048 0032 064 002 512 100 1500 ddr   4   4   2
${make_input_deck} 0004096 0064 064 002 512 100 1500 ddr   4   4   4
${make_input_deck} 0008192 0128 064 002 512 100 1500 ddr   8   4   4
${make_input_deck} 0016384 0256 064 002 512 100 1500 ddr   8   8   4
${make_input_deck} 0032768 0512 064 002 512 100 1500 ddr   8   8   8
${make_input_deck} 0065536 1024 064 002 512 100 1500 ddr  16   8   8
${make_input_deck} 0131072 2048 064 002 512 100 1500 ddr  16  16   8
${make_input_deck} 0262144 4096 064 002 512 100 1500 ddr  16  16  16
${make_input_deck} 0524288 8192 064 002 512 100 1500 ddr  32  16  16

${make_input_deck} 0000068 0001 068 002 512 100 1500 ddr   1   1   1
${make_input_deck} 0000136 0002 068 002 512 100 1500 ddr   2   1   1
${make_input_deck} 0000272 0004 068 002 512 100 1500 ddr   2   2   1
${make_input_deck} 0000544 0008 068 002 512 100 1500 ddr   2   2   2
${make_input_deck} 0001088 0016 068 002 512 100 1500 ddr   4   2   2
${make_input_deck} 0002176 0032 068 002 512 100 1500 ddr   4   4   2
${make_input_deck} 0004352 0064 068 002 512 100 1500 ddr   4   4   4
${make_input_deck} 0008704 0128 068 002 512 100 1500 ddr   8   4   4
${make_input_deck} 0017408 0256 068 002 512 100 1500 ddr   8   8   4
${make_input_deck} 0034816 0512 068 002 512 100 1500 ddr   8   8   8
${make_input_deck} 0069632 1024 068 002 512 100 1500 ddr  16   8   8
${make_input_deck} 0139264 2048 068 002 512 100 1500 ddr  16  16   8
${make_input_deck} 0278528 4096 068 002 512 100 1500 ddr  16  16  16
${make_input_deck} 0557056 8192 068 002 512 100 1500 ddr  32  16  16
